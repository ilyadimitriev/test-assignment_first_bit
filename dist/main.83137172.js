!function(){"use strict";var t=function(t){var e=t.url,n=t.method,r=void 0===n?"GET":n,a=t.headers,s=t.body,o=t.callback;fetch(e,{method:r,headers:a,body:s}).then((function(t){if(422===t.status||t.ok)return t.json()})).then((function(t){o&&o(t)}))},e=function(t){var e;t||(e="https://test-assignment.bitrx24.com/user/?");var n=JSON.parse(localStorage.getItem("app-settings")),r=function(t){"payment_status"===t?n[t].forEach((function(r,a){e+="payment_status%5B%5D=".concat(r),n[t].length-1!==a&&(e+="&")})):e+="".concat(t,"=").concat(n[t]);var r=Object.keys(n)[Object.keys(n).length-1];t!==r&&(e+="&")};for(var a in n)r(a);return e},n=function(t){var e=new Date(1e3*t),n=e.getFullYear(),r=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e.getMonth()];return(e.getDate()>9?e.getDate():"0"+e.getDate())+"/"+r+"/"+n};function r(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=function(){if(document.querySelector('input[name="user-checkbox"]:checked')){var t=document.querySelector(".popup-multi_data_change");r(document.querySelectorAll('input[name="user-checkbox"]:checked')).forEach((function(t){t.checked=!1})),t.classList.remove("active")}};function o(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(){var t=document.querySelector(".main"),e=document.createElement("div");e.classList.add("main__onload-screen","onload"),e.innerHTML='\n\t\t<div id="floatingCirclesG">\n\t\t\t<div class="f_circleG" id="frotateG_01"></div>\n\t\t\t<div class="f_circleG" id="frotateG_02"></div>\n\t\t\t<div class="f_circleG" id="frotateG_03"></div>\n\t\t\t<div class="f_circleG" id="frotateG_04"></div>\n\t\t\t<div class="f_circleG" id="frotateG_05"></div>\n\t\t\t<div class="f_circleG" id="frotateG_06"></div>\n\t\t\t<div class="f_circleG" id="frotateG_07"></div>\n\t\t\t<div class="f_circleG" id="frotateG_08"></div>\n\t\t</div>\n\t',t.prepend(e.cloneNode(!0)),t.classList.add("onload")}function u(t){if(s(),t&&!t.errors){var e=document.createElement("div");e.classList.add("user");var r=document.createElement("div");r.classList.add("user-info","active");var a=document.createElement("div");a.classList.add("user-details");var o,i,c=document.querySelector(".main");c.innerHTML="",c.classList.remove("onload","nothing-found"),0!==t.data.length?t.data.forEach((function(t){if(o=function(t){return t?"active":"inactive"}(t.status),i=function(t){return"Paid"===t?"paid":"Unpaid"===t?"unpaid":"overdue"}(t.payment_status),e.id="user-"+t.id,r.innerHTML='\n\t\t<div class="user-info__wrapper">\n\t\t\t<div class="user-info__section user-info__section_check">\n\t\t\t\t<label class="checkbox-main"><input type="checkbox" name="user-checkbox" id ="user-'.concat(t.id,'-checkbox"><span></span></label>\n\t\t\t\t<button class="user-info__show-more"></button>\n\t\t\t</div>\n\t\t\t<div class="user-info__section-wrapper">\n\t\t\t\t<div class="user-info__section user-info__section_resizeble user-info__section_name">\n\t\t\t\t\t<span class="user-info__name">').concat(t.name,'</span>\n\t\t\t\t\t<span class="user-info__email">').concat(t.email,'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-info__section user-info__section_resizeble user-info__section_user-status">\n\t\t\t\t\t<div class="user-info__status ').concat(o,'">\n\t\t\t\t\t\t<svg width="6" height="6" >\n\t\t\t\t\t\t\t<circle class="icon__status" cx="3" cy="3" r="3"></circle>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<span>').concat(o,'</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="user-info__last-login">Last login: ').concat(n(t.last_login),'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-info__section user-info__section_resizeble user-info__section_payment-status">\n\t\t\t\t\t<div class="user-info__status ').concat(i,'">\n\t\t\t\t\t\t<svg class="icon__status" width="6" height="6" >\n\t\t\t\t\t\t\t<circle cx="3" cy="3" r="3"></circle>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t<span>').concat(i,'</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class="user-info__payment-date">').concat(function(t){return"Paid"===t?"Paid":"Unpaid"===t?"Dues":"Dued"}(t.payment_status)," on ").concat(n(t.due_date),'</span>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-info__section user-info__section_resizeble user-info__section_amount">\n\t\t\t\t\t<span class="user-info__amount">$').concat(t.amount,'</span>\n\t\t\t\t\t<span class="user-info__currency">').concat(t.currency,'</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="user-info__section user-info__section_options">\n\t\t\t\t<button class="user-info__btn-options">\n\t\t\t\t\t<svg class="icon__dot" width="4" height="4" >\n\t\t\t\t\t\t<circle cx="2" cy="2" r="2"></circle>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<svg class="icon__dot" width="4" height="4">\n\t\t\t\t\t\t<circle cx="2" cy="2" r="2"></circle>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<svg class="icon__dot" width="4" height="4">\n\t\t\t\t\t\t<circle cx="2" cy="2" r="2"></circle>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t\t<div class="popup-options">\n\t\t\t\t\t<button class="popup-options__btn popup-options__edit"><span>Edit</span></button>\n\t\t\t\t\t<div class="popup-options__borderline"></div>\n\t\t\t\t\t<button class="popup-options__btn popup-options__delete"><span>Delete</span></button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t'),a.innerHTML='\n\t\t\t<div class="user-details__bar user-details__headers">\n\t\t\t\t<div class="user-details__section user-details__section-date">\n\t\t\t\t\t<h4 class="user-details__header">Date</h4>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-details__section user-details__section-activity">\n\t\t\t\t\t<h4 class="user-details__header">Activity</h4>\n\t\t\t\t</div>\n\t\t\t\t<div class="user-details__section user-details__section-detail">\n\t\t\t\t\t<h4 class="user-details__header">Detail</h4>\n\t\t\t\t\t<div class="popup-details">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Feugiat eget.</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t',0!==t.activities.length){var s=document.createElement("div");s.classList.add("user-details__bar"),t.activities.sort((function(t,e){return e.date-t.date})).forEach((function(t){s.id="activity-"+t.id,s.innerHTML='\n\t\t\t\t\t<div class="user-details__section user-details__section-date"><p class="user-details__text">'.concat(n(t.date),'</p></div>\n\t\t\t\t\t<div class="user-details__section user-details__section-activity"><p class="user-details__text">').concat(t.activity,'</p></div>\n\t\t\t\t\t<div class="user-details__section user-details__section-detail"><p class="user-details__text">').concat(t.detail,"</p></div>\n\t\t\t\t"),a.append(s.cloneNode(!0)),s.innerHTML=""}))}else a.innerHTML="\n\t\t\t\t".concat(a.innerHTML,'\n\t\t\t\t<div class="user-details__bar no-data">\n\t\t\t\t\t<span class="user-details__no-data">No records found</span>\n\t\t\t\t</div>\n\t\t\t');e.append(r.cloneNode(!0)),r.innerHTML="",e.append(a.cloneNode(!0)),a.innerHTML="",c.append(e.cloneNode(!0)),e.innerHTML=""})):function(){var t=document.querySelector(".main"),e=document.createElement("div");e.classList.add("main__nothing-found","nothing-found"),e.innerHTML="\n\t\t<p>Nothing found<p>\n\t",t.prepend(e.cloneNode(!0)),t.classList.add("nothing-found")}()}}function l(t){var e=t.setWidth,n=void 0!==e&&e,r=t.setOrder,a=void 0!==r&&r,s=t.setDisplay,o=void 0!==s&&s,i=document.querySelector(".main__onload-screen");if(i&&(i.remove(),document.querySelector(".main").classList.remove("onload")),n||a||o){var c=document.querySelectorAll(".user-info__section-wrapper"),u=JSON.parse(localStorage.getItem("column-settings"));c.forEach((function(t){var e=t.querySelector(".user-info__section_name"),r=t.querySelector(".user-info__section_user-status"),s=t.querySelector(".user-info__section_payment-status"),i=t.querySelector(".user-info__section_amount");if(o)for(var c in u.display){var l="name"===c?e:"status"===c?r:"payment_status"===c?s:i;u.display[c]?l.classList.remove("hidden"):l.classList.add("hidden")}if(n)for(var d in u.free_space){var p="name"===d?e:"status"===d?r:"payment_status"===d?s:i;p.style.width=parseInt(getComputedStyle(p).minWidth,10)+u.free_space[d]+"px"}a&&u.order.forEach((function(n){var a="name"===n?e:"status"===n?r:"payment_status"===n?s:i,o=a.cloneNode(!0);a.remove(),t.append(o)}))}))}}function d(){var t=document.querySelector(".column-settings"),e=t.querySelector(".column-settings__columns-wrapper"),n=JSON.parse(localStorage.getItem("column-settings"));if(n){var r=t.querySelector(".column-box_name"),a=t.querySelector(".column-box_status"),s=t.querySelector(".column-box_payment-status"),o=t.querySelector(".column-box_amount");if(n.display)for(var i in n.display){var c=("name"===i?r:"status"===i?a:"payment_status"===i?s:o).querySelector(".column-box__display-btn");n.display[i]?(c.classList.add("on"),c.classList.remove("off")):(c.classList.remove("on"),c.classList.add("off"))}n.order&&n.order.forEach((function(t){var n="name"===t?r:"status"===t?a:"payment_status"===t?s:o,i=n.cloneNode(!0);n.remove(),e.append(i)}))}}function p(){var t=document.querySelector(".bar__section-wrapper"),e=JSON.parse(localStorage.getItem("column-settings"));if(e){var n=t.querySelector(".bar__section_name"),r=t.querySelector(".bar__section_user-status"),a=t.querySelector(".bar__section_payment-status"),s=t.querySelector(".bar__section_amount");if(e.display)for(var o in e.display){var i="name"===o?n:"status"===o?r:"payment_status"===o?a:s;e.display[o]?i.classList.remove("hidden"):i.classList.add("hidden")}if(e.free_space)for(var c in e.free_space){var u="name"===c?n:"status"===c?r:"payment_status"===c?a:s;u.style.width=parseInt(getComputedStyle(u).minWidth,10)+e.free_space[c]+"px"}if(e.order){var l=e.order.filter((function(t){if(!0===e.display[t])return!0}));e.order.forEach((function(e,o){var i="name"===e?n:"status"===e?r:"payment_status"===e?a:s,c=i.querySelector(".bar__width-slider");c.classList.remove("hidden"),e===l[l.length-1]&&c.classList.add("hidden");var u=i.cloneNode(!0);i.remove(),t.append(u)}))}}}function m(){var t=document.querySelector(".selection__payment-filters"),e=JSON.parse(localStorage.getItem("app-settings"));t.innerHTML="",document.querySelector("input[name=payment-selector-input][value=Paid]").checked=!1,document.querySelector("input[name=payment-selector-input][value=Unpaid]").checked=!1,document.querySelector("input[name=payment-selector-input][value=Overdue]").checked=!1,document.querySelector("input[name=payment-selector-input][value=All]").checked=!1,e.payment_status?(e.payment_status.forEach((function(e){var n=document.createElement("button");n.classList.add("selection__payment-filters-btn"),n.textContent=e,t.append(n.cloneNode(!0)),document.querySelector("input[name=payment-selector-input][value=".concat(e,"]")).checked=!0})),3===e.payment_status.length&&(document.querySelector("input[name=payment-selector-input][value=All]").checked=!0)):t.innerHTML="<span>Select Payment status</span>"}function f(t){var e=document.querySelector(".footer"),n=e.querySelector(".footer__users-shown"),r=e.querySelector(".footer__users-total"),a=e.querySelector(".footer__rows-limit"),s=e.querySelector(".pagination"),o=!1;s.innerHTML="";var i=JSON.parse(localStorage.getItem("app-settings"));i.page||(i.page=t.current_page,o=!0),i.limit||(i.limit=t.per_page,o=!0),o&&localStorage.setItem("app-settings",JSON.stringify(i)),t.links.forEach((function(t){var e=document.createElement("button");e.classList.add("pagination__btn"),e.setAttribute("data-url",t.url),e.innerHTML=t.label,t.active&&e.classList.add("active"),null===t.url&&e.classList.add("empty"),s.append(e)})),a.textContent=t.per_page,n.textContent="".concat(t.from?t.from:0,"-").concat(t.to?t.to:0),r.textContent=t.total}function v(){var t=localStorage.getItem("app-settings");if((t=JSON.parse(t)).sort_by){var e=document.querySelector(".bar__header-".concat(t.sort_by));e.classList.add("focus"),"asc"===t.sort_direction?e.classList.add("ascending"):e.classList.add("descending")}else{var n=document.querySelector(".bar__header.focus");n&&n.classList.remove("focus","ascending","descending")}}var _=function(){var t,e,n,r,a,s,o,i,c,u,l,d,p,m,f,v,_,y,g=arguments.length>0&&void 0!==arguments[0]&&arguments[0],h=JSON.parse(localStorage.getItem("column-settings")),S=document.querySelector(".bar__section-wrapper"),b=S.querySelector(".bar__section_name"),L=S.querySelector(".bar__section_user-status"),q=S.querySelector(".bar__section_payment-status"),w=S.querySelector(".bar__section_amount");if(g){b.style.removeProperty("width"),L.style.removeProperty("width"),q.style.removeProperty("width"),w.style.removeProperty("width");var E=h.order.filter((function(t){if(!0===h.display[t])return t}));E.length<h.order.length?h.order.forEach((function(t){var e="name"===t?b:"status"===t?L:"payment_status"===t?q:w;!1===h.display[t]?e.style.width="0px":e.style.width=Math.floor(parseInt(getComputedStyle(S).width,10)/E.length)+"px"})):(b.style.width=getComputedStyle(b).width,L.style.width=getComputedStyle(L).width,q.style.width=getComputedStyle(q).width,w.style.width=getComputedStyle(w).width)}else b.style.width=getComputedStyle(b).width,L.style.width=getComputedStyle(L).width,q.style.width=getComputedStyle(q).width,w.style.width=getComputedStyle(w).width;h.order.forEach((function(p,m){var f="name"===p?b:"status"===p?L:"payment_status"===p?q:w;0===m?(a=p,t=f,c=getComputedStyle(t)):1===m?(s=p,e=f,u=getComputedStyle(e)):2===m?(o=p,n=f,l=getComputedStyle(n)):(i=p,r=f,d=getComputedStyle(r))})),h.order.forEach((function(g,S){!0===h.display[g]?0===S?(_=!0===h.display[a]?parseInt(t.style.width,10):0,y=!0===h.display[a]?parseInt(c.minWidth,10):0,p=_-y<0?0:_-y):1===S?(_=!0===h.display[s]?parseInt(e.style.width,10):0,y=!0===h.display[s]?parseInt(u.minWidth,10):0,m=_-y<0?0:_-y):2===S?(_=!0===h.display[o]?parseInt(n.style.width,10):0,y=!0===h.display[o]?parseInt(l.minWidth,10):0,f=_-y<0?0:_-y):(_=!0===h.display[i]?parseInt(r.style.width,10):0,y=!0===h.display[i]?parseInt(d.minWidth,10):0,v=_-y<0?0:_-y):v=0})),h.free_space={},h.order.forEach((function(t,e){h.free_space[t]=0===e?p:1===e?m:2===e?f:v})),localStorage.setItem("column-settings",JSON.stringify(h))};function y(t){return function(t){if(Array.isArray(t))return g(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var h=function(){var n=document.querySelector(".column-settings"),r=n.querySelector(".column-settings__columns-wrapper"),a=r.children,s=localStorage.getItem("column-settings");function o(){var t=n.querySelector(".column-box_name"),e=n.querySelector(".column-box_status"),r=n.querySelector(".column-box_payment-status"),s=[];return y(a).forEach((function(n){var a=n===t?"name":n===e?"status":n===r?"payment_status":"amount";s.push(a)})),s}function i(){var t,e=n.querySelector(".column-box_name"),r=n.querySelector(".column-box_status"),s=n.querySelector(".column-box_payment-status"),o={},i=y(a);return i.forEach((function(n,a){var c=i[a].querySelector(".column-box__display-btn.off");t=!c,o[n===e?"name":n===r?"status":n===s?"payment_status":"amount"]=t})),o}function d(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)}null!==s&&s||localStorage.setItem("column-settings",JSON.stringify({order:["name","status","payment_status","amount"],display:{name:!0,status:!0,payment_status:!0,amount:!0}})),s=JSON.parse(localStorage.getItem("column-settings")),n.addEventListener("click",(function(u){s=JSON.parse(localStorage.getItem("column-settings"));var m=u.target.closest(".column-settings__control-btn"),f=u.target.closest(".column-settings__column-box"),y=u.target.closest(".column-box__display-btn"),g=n.querySelector(".column-settings__column-box.active"),h=JSON.parse(localStorage.getItem("app-settings"));if(m&&g){var S=g.cloneNode(!0),b=n.querySelector(".column-settings__control-btn_start"),L=n.querySelector(".column-settings__control-btn_left"),q=n.querySelector(".column-settings__control-btn_right"),w=n.querySelector(".column-settings__control-btn_end");if(m===b){if(g===a[0])return;g.remove(),r.prepend(S),s.order=o()}else if(m===L){if(g===a[0])return;var E=g.previousElementSibling;g.remove(),E.before(S),s.order=o()}else if(m===q){if(g===a[a.length-1])return;var I=g.nextElementSibling;g.remove(),I.after(S),s.order=o()}else if(m===w){if(g===a[a.length-1])return;g.remove(),r.append(S),s.order=o()}localStorage.setItem("column-settings",JSON.stringify(s)),c(),l({setOrder:!0}),p()}if(y){if(y.classList.contains("on")){if(n.querySelectorAll(".column-box__display-btn.on").length<=1)return;y.classList.remove("on"),y.classList.add("off"),s.display=i();var A=!1;if(h.sort_by)for(var O in s.display)!1===s.display[O]&&h.sort_by===O&&(localStorage.setItem("column-settings",JSON.stringify(s)),delete h.sort_by,delete h.sort_direction,A=!0,localStorage.setItem("app-settings",JSON.stringify(h)));if(A)return c(),p(),v(),void t({method:"GET",url:e(),callback:d,headers:{accept:"application/json"}})}else y.classList.add("on"),y.classList.remove("off"),s.display=i();localStorage.setItem("column-settings",JSON.stringify(s)),c(),p(),_(!0),l({setWidth:!0,setDisplay:!0})}if(f){if(f.classList.contains("active"))return;var k=n.querySelector(".column-settings__column-box.active");k&&k.classList.remove("active"),f.classList.add("active")}}))};function S(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var L=function(){var n=document.querySelector(".bar");n.addEventListener("click",(function(r){var a=r.target.closest(".bar__header"),s=n.querySelector(".bar__header.focus"),o={};if(a){var i=a.classList.contains("bar__header-name")?"name":a.classList.contains("bar__header-status")?"status":a.classList.contains("bar__header-payment_status")?"payment_status":a.classList.contains("bar__header-amount")?"amount":null;if(!i)return console.error("Columns headers are broken. Please, reload the page.");o.sort_by=i,s?a===s?(a.classList.contains("descending")?(o.sort_direction="asc",d()):(o.sort_direction="desc",d()),a.classList.toggle("descending"),a.classList.toggle("ascending")):(o.sort_direction="asc",d(),s.classList.remove("focus","descending","ascending"),a.classList.add("focus","ascending")):(o.sort_direction="asc",d(),a.classList.add("focus","ascending"))}function d(){var n=JSON.parse(localStorage.getItem("app-settings"));n.sort_direction=o.sort_direction,n.sort_by=o.sort_by,n.page=1,localStorage.setItem("app-settings",JSON.stringify(n)),c(),t({method:"GET",url:e(),callback:p,headers:{accept:"application/json"}})}function p(t){if(t.errors){var e=t.message+" Errors: ";for(var n in t.errors)t.errors[n].forEach((function(t){e+=t+" "}));console.error(e)}else u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)}})),n.addEventListener("mousedown",(function(r){var a,s,o,i,m,f,y,g,h,b,L,q,w=JSON.parse(localStorage.getItem("column-settings")),E=n.querySelector(".bar__section_name"),I=n.querySelector(".bar__section_user-status"),A=n.querySelector(".bar__section_payment-status"),O=n.querySelector(".bar__section_amount"),k=parseInt(getComputedStyle(E).minWidth,10),x=parseInt(getComputedStyle(I).minWidth,10),N=parseInt(getComputedStyle(A).minWidth,10),C=parseInt(getComputedStyle(O).minWidth,10),j=r.target.closest(".bar__width-slider"),J=r.target.closest(".bar__btn-options"),T=r.clientX,D={};if(j){var M=function(){l({setWidth:!0})};for(var G in _(),a=r.target.closest(".bar__section_resizeble"),i=B(s=a===E?"name":a===I?"status":a===A?"payment_status":"amount","left"),m=B(s,"right"),w.free_space)D[G]=w.free_space[G];return document.addEventListener("mousemove",U),g=M,h=30,q=!1,y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(q)return b=e,void(L=this);g.call.apply(g,[this].concat(e)),q=!0,setTimeout((function(){var t;q=!1,b&&((t=y).call.apply(t,[L].concat(S(b))),b=L=null)}),h)},document.addEventListener("mousemove",y),void document.addEventListener("mouseup",(function(t){_(),U(t),M(),document.removeEventListener("mousemove",U),document.removeEventListener("mousemove",y)}),{once:!0})}if(J){var W=JSON.parse(localStorage.getItem("app-settings"));return localStorage.setItem("column-settings",JSON.stringify({order:["name","status","payment_status","amount"],display:{name:!0,status:!0,payment_status:!0,amount:!0}})),W.sort_by&&(delete W.sort_by,delete W.sort_direction),localStorage.setItem("app-settings",JSON.stringify(W)),c(),void t({method:"GET",url:e(),callback:function(t){d(),p(),v(),u(t),_(!0),l({setWidth:!0,setOrder:!0,setDisplay:!0})},headers:{accept:"application/json"}})}function U(t){w=JSON.parse(localStorage.getItem("column-settings")),o=parseInt(getComputedStyle(a).minWidth,10);var e=t.clientX;f=e-T,T=e,f>=0?w.free_space[s]<m?(w.free_space[s]+=f,P(a)):w.free_space[s]=m:w.free_space[s]>0?(w.free_space[s]+=f,$(a)):(w.free_space[s]=0,$(a),H(a)),a.style.width="".concat(w.free_space[s]+o,"px"),localStorage.setItem("column-settings",JSON.stringify(w))}function P(t){var e=z(t,"next");if(e){var n=e===E?"name":e===I?"status":e===A?"payment_status":"amount",r="name"===n?k:"status"===n?x:"payment_status"===n?N:C;w.free_space[n]>0?(w.free_space[n]-=f,e.style.width="".concat(w.free_space[n]+r,"px")):(w.free_space[n]=0,e.style.width="0px",P(e))}}function H(t){var e=z(t,"prev");if(e){var n=e===E?"name":e===I?"status":e===A?"payment_status":"amount",r="name"===n?k:"status"===n?x:"payment_status"===n?N:C;w.free_space[n]>0?(w.free_space[n]+=f,e.style.width="".concat(w.free_space[n]+r,"px")):(w.free_space[n]=0,e.style.width="0px",H(e))}}function $(t){var e=z(t,"next");if(e){var n=e===E?"name":e===I?"status":e===A?"payment_status":"amount",r="name"===n?k:"status"===n?x:"payment_status"===n?N:C;w.free_space[n]<i+D[n]?(w.free_space[n]-=f,e.style.width="".concat(w.free_space[n]+r,"px")):(w.free_space[n]=i+D[n],e.style.width="".concat(w.free_space[n]+r,"px"))}}function B(t,e){var n,r=0;if(n=w.order.indexOf(t),"right"===e)for(;n<=w.order.length-1;)w.display[w.order[n]]&&(r+=w.free_space[w.order[n]]),n+=1;else if("left"===e)for(;n>=0;)w.display[w.order[n]]&&(r+=w.free_space[w.order[n]]),n-=1;return r}function z(t,e){var n;if("prev"===e)n=t.previousElementSibling;else{if("next"!==e)return;n=t.nextElementSibling}return!!n&&("0px"!==n.style.width?n:z(n,e))}}))};function q(n){function r(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)}n.addEventListener("transitionstart",(function(){t({url:e(),method:"GET",headers:{accept:"application/json"},callback:r})}),{once:!0})}var w=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t({url:"https://test-assignment.bitrx24.com/user/".concat(e,"/"),method:"DELETE",headers:{accept:"application/json"}});var r=document.getElementById("user-"+e);n&&q(r),r.classList.add("delete")},E=function(e){var n=document.getElementById("".concat(e,"-edit-form")),r=n.querySelector(".user-edit__name-input-wrapper"),a=r.querySelector(".user-edit__name-input"),s=n.querySelector(".user-edit__user-status-selector"),o=document.getElementById("".concat(e,"-edit-active")),i=n.querySelector(".user-edit__payment-status-selector"),c=+e.replace(/[\D]/gi,""),u={};u.name=a.value,u.status=!!o.checked,u.payment_status=i.querySelector("span").textContent,t({url:"https://test-assignment.bitrx24.com/user/".concat(c,"/"),method:"PUT",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(u),callback:function(t){t.errors?(t.errors.name?(a.value="",a.placeholder=t.errors.name,r.classList.add("error-input","invalid")):(a.placeholder="Name",r.classList.remove("error-input","invalid")),t.errors.status?s.classList.add("error-input"):s.classList.remove("error-input"),t.errors.payment_status?i.classList.add("error-input"):i.classList.remove("error-input")):A(e,!0)}})};function I(t){var e="user-"+t,n=document.getElementById(e),r=n.querySelector(".user-info"),a=n.querySelector(".user-details"),s=r.querySelector(".user-info__name").innerText,o=r.querySelector(".user-info__section_user-status .user-info__status"),i=r.querySelector(".user-info__section_payment-status .user-info__status"),c=document.createElement("div");c.classList.add("user-edit"),c.innerHTML='\n\t\t<form class="user-edit__form" id="'.concat(e,'-edit-form">\n\t\t\t<button type="button" class="user-edit__cancel" title="Cancel edit"></button>\n\t\t\t<div class="user-edit__name-input-wrapper">\n\t\t\t\t<input type="text" class="user-edit__name-input" id="').concat(e,'-name-input">\n\t\t\t</div>\n\t\t\t<div class="user-status-selector user-edit__user-status-selector">\n\t\t\t\t<input type="radio" class="user-status-selector__radio" id="').concat(e,'-edit-active" name="').concat(e,'-edit-user-status-radio" value="Active">\n\t\t\t\t<label for="').concat(e,'-edit-active">Active</label>\n\t\t\t\t<input type="radio" class="user-status-selector__radio" id="').concat(e,'-edit-inactive" name="').concat(e,'-edit-user-status-radio" value="Inactive">\n\t\t\t\t<label for="').concat(e,'-edit-inactive">Inactive</label>\n\t\t\t</div>\n\t\t\t<div class="payment-status-selector user-edit__payment-status-selector">\n\t\t\t\t<span>Paid</span>\n\t\t\t\t<div class="popup-selector">\n\t\t\t\t\t<input type="radio" class="user-status-selector__radio" id="').concat(e,'-edit-paid" name="').concat(e,'-edit-payment-status-radio" value="Paid">\n\t\t\t\t\t<label for="').concat(e,'-edit-paid">Paid</label>\n\t\t\t\t\t<input type="radio" class="user-status-selector__radio" id="').concat(e,'-edit-unpaid" name="').concat(e,'-edit-payment-status-radio" value="Unpaid">\n\t\t\t\t\t<label for="').concat(e,'-edit-unpaid">Unpaid</label>\n\t\t\t\t\t<input type="radio" class="user-status-selector__radio" id="').concat(e,'-edit-overdue" name="').concat(e,'-edit-payment-status-radio" value="Overdue">\n\t\t\t\t\t<label for="').concat(e,'-edit-overdue">Overdue</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<button type="submit" class="user-edit__submit"></button>\n\t\t</form>\n\t'),r.after(c),c.querySelector(".user-edit__name-input").value=s,o.classList.contains("active")?c.querySelector("#".concat(e,"-edit-active")).checked=!0:o.classList.contains("inactive")&&(c.querySelector("#".concat(e,"-edit-inactive")).checked=!0),i.classList.contains("paid")?(c.querySelector("#".concat(e,"-edit-paid")).checked=!0,c.querySelector(".user-edit__payment-status-selector span").textContent=c.querySelector("#".concat(e,"-edit-paid")).value):i.classList.contains("unpaid")?(c.querySelector("#".concat(e,"-edit-unpaid")).checked=!0,c.querySelector(".user-edit__payment-status-selector span").textContent=c.querySelector("#".concat(e,"-edit-unpaid")).value):i.classList.contains("overdue")&&(c.querySelector("#".concat(e,"-edit-overdue")).checked=!0,c.querySelector(".user-edit__payment-status-selector span").textContent=c.querySelector("#".concat(e,"-edit-overdue")).value),r.classList.remove("active"),a.classList.remove("active"),r.addEventListener("transitionstart",(function(){c.addEventListener("transitionend",(function(){}),{once:!0}),c.classList.add("active")}),{once:!0}),c.querySelector(".user-edit__cancel").addEventListener("mousedown",(function(){A(e)})),c.querySelector(".user-edit__form").addEventListener("submit",(function(t){t.preventDefault(),E(e)}))}function A(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.getElementById(t),r=n.querySelector(".user-info"),a=n.querySelector(".user-edit");if(e){var s=function(t){return"Active"===t?"active":"inactive"},o=function(t){return"Paid"===t?"paid":"Unpaid"===t?"unpaid":"overdue"},i=function(t){return"Paid"===t?"Paid":"Unpaid"===t?"Dues":"Dued"},c=a.querySelector(".user-edit__name-input").value,u=a.querySelector(".user-edit__payment-status-selector span").textContent,l=a.querySelector(".user-status-selector__radio:checked").value,d=i(u),p=r.querySelector(".user-info__payment-date").textContent.split(" ");p[0]=d,r.querySelector(".user-info__name").textContent=c,r.querySelector(".user-info__section_user-status span").textContent=l,r.querySelector(".user-info__section_user-status .user-info__status").classList="user-info__status ".concat(s(l)),r.querySelector(".user-info__section_payment-status span").textContent=u,r.querySelector(".user-info__section_payment-status .user-info__status").classList="user-info__status ".concat(o(u)),r.querySelector(".user-info__payment-date").textContent=p.join(" ")}r.classList.add("active"),r.addEventListener("transitionstart",(function(){a.addEventListener("transitionend",(function(){a.remove()}),{once:!0}),a.classList.remove("active")}),{once:!0})}function O(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var x=function(){var t=document.querySelector(".popup-multi_data_change");t.addEventListener("click",(function(e){var n=e.target.closest(".popup-multi_data_change__btn");if(n){var r=O(document.querySelectorAll('input[name="user-checkbox"]'));if(n.classList.contains("popup-multi_data_change__edit-btn"))t.classList.remove("active"),r.forEach((function(t,e){0!==e?t.checked&&(t.checked=!1,I(+t.id.replace(/[\D]/gi,""))):t.checked=!1}));else{if(!n.classList.contains("popup-multi_data_change__delete-btn"))return;t.classList.remove("active");var a=O(document.querySelectorAll('input[name="user-checkbox"]:checked'));a.forEach((function(t,e){if("main-user-checkbox"!==t.id){var n=+t.id.replace(/[\D]/gi,"");e!==a.length-1?w(n):w(n,!0)}}))}}}))};function N(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return C(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=function(){var t=document.querySelector(".wrapper"),e=document.querySelector(".popup-multi_data_change");t.addEventListener("change",(function(t){var n=t.target.closest('input[name="user-checkbox"]');if(n){var r;document.querySelector(".user-edit")&&N(document.querySelectorAll(".user")).forEach((function(t){(r=t.querySelector(".user-edit"))&&(r.addEventListener("transitionend",(function(t){t.target.remove()}),{once:!0}),r.classList.remove("active"),t.querySelector(".user-info").classList.add("active"))})),e.style.transition="300ms";var a=N(document.querySelectorAll('input[name="user-checkbox"]'));n===a[0]?n.checked?a.forEach((function(t){t.checked=!0,e.classList.add("active")})):a.forEach((function(t){t.checked=!1,e.classList.remove("active")})):(n.checked?a.some((function(t,e){if(0!==e)return!t.checked||void 0}))||(a[0].checked=!0):(a[0].checked=!1,e.classList.remove("active")),a.some((function(t){if(t.checked)return!0}))?e.classList.add("active"):e.classList.remove("active"))}}))},J=function(){document.querySelector(".pagination").addEventListener("click",(function(n){var r=n.target.closest(".pagination__btn");if(r){if(r.classList.contains("active"))return;var a=r.getAttribute("data-url");if("null"===a)return;var s=JSON.parse(localStorage.getItem("app-settings"));s.page=+a.match(/\d+$/),localStorage.setItem("app-settings",JSON.stringify(s)),c(),t({method:"GET",url:e(),callback:function(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)},headers:{accept:"application/json"}})}}))};function T(t){return function(t){if(Array.isArray(t))return D(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var M=function(){var n=document.querySelector(".payment-status-selector"),r=document.querySelector(".selection__payment-filters"),a=document.querySelector(".popup-payment-selector"),s=T(a.querySelectorAll(".popup-payment-selector__option"));function o(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)}r.addEventListener("click",(function(n){var r=n.target.closest(".selection__payment-filters-btn");if(r){var s=r.textContent,i=JSON.parse(localStorage.getItem("app-settings"));return i.payment_status.splice(i.payment_status.indexOf(s),1),0===i.payment_status.length&&delete i.payment_status,i.page=1,localStorage.setItem("app-settings",JSON.stringify(i)),m(),c(),void t({method:"GET",url:e(),callback:o,headers:{accept:"application/json"}})}a.classList.add("active")})),n.addEventListener("mouseleave",(function(){a.classList.remove("active")})),a.addEventListener("change",(function(n){var r=n.target.closest(".popup-payment-selector__option"),a=[],i=["Paid","Unpaid","Overdue"];if(r){var u=JSON.parse(localStorage.getItem("app-settings"));return u.page=1,r===s[0]?r.querySelector("input").checked?(s.forEach((function(t,e){0!==e&&(t.querySelector("input").checked=!0)})),u.payment_status=i):(s.forEach((function(t,e){0!==e&&(t.querySelector("input").checked=!1)})),delete u.payment_status):(s.forEach((function(t,e){0!==e&&(t.querySelector("input").checked?a.push(!0):a.push(!1))})),a.some((function(t){return!1===t}))?a.some((function(t){return!0===t}))?u.payment_status=i.filter((function(t,e){if(!0===a[e])return!0})):(s[0].querySelector("input").checked=!1,delete u.payment_status):(s[0].querySelector("input").checked=!0,u.payment_status=i)),localStorage.setItem("app-settings",JSON.stringify(u)),m(),c(),void t({method:"GET",url:e(),callback:o,headers:{accept:"application/json"}})}}))};function G(t){return function(t){if(Array.isArray(t))return W(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return W(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var U=function(){var n=document.querySelector(".popup-rows-limit"),r=document.querySelector(".footer__rows");function a(){n.classList.remove("active")}r.addEventListener("click",(function(r){if(r.target.closest(".footer__rows-btn"))n.classList.add("active");else{var s=r.target.closest(".popup-rows-limit__btn");if(s){var o=JSON.parse(localStorage.getItem("app-settings"));if(+s.textContent===o.limit)return void a();!function(n){console.log("click");var r=G(document.querySelectorAll(".popup-rows-limit__btn")).indexOf(n),s=0===r?10:1===r?15:2===r?20:30,o=JSON.parse(localStorage.getItem("app-settings"));function i(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)}o.limit=s,o.page=1,localStorage.setItem("app-settings",JSON.stringify(o)),c(),a(),t({method:"GET",url:e(),callback:i,headers:{accept:"application/json"}})}(s)}}})),r.addEventListener("mouseleave",(function(){a()}))};function P(t){return function(t){if(Array.isArray(t))return H(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $=function(){var n=document.getElementById("main-search"),r=document.querySelector(".header__search-close");function a(){var a=JSON.parse(localStorage.getItem("app-settings"));a.page=1,""!==n.value?(a.q=n.value,r.classList.add("active")):(delete a.q,r.classList.remove("active")),localStorage.setItem("app-settings",JSON.stringify(a)),c(),t({method:"GET",url:e(),callback:function(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)},headers:{accept:"application/json"}})}!function(t,e){var r,a,s=this,o=!1;n.addEventListener("input",(function n(){for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];if(o)return r=c,void(a=s);t.call.apply(t,[s].concat(c)),o=!0,setTimeout((function(){o=!1,r&&(n.call.apply(n,[a].concat(P(r))),r=a=null)}),e)}))}(a,700),r.addEventListener("mousedown",(function(){n.value="",a()}))};function B(t){return function(t){if(Array.isArray(t))return z(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return z(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var F=function(){var n=document.querySelector(".selection__user-status-selector"),r=B(n.querySelectorAll(".user-status-selector__input"));n.addEventListener("change",(function(n){var a=n.target.closest(".user-status-selector__input");if(a){var s=JSON.parse(localStorage.getItem("app-settings"));s.page=1,a.checked?a===r[0]?(r[1].checked=!1,s.status=!0):(r[0].checked=!1,s.status=!1):delete s.status,localStorage.setItem("app-settings",JSON.stringify(s)),c(),t({method:"GET",url:e(),callback:function(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)},headers:{accept:"application/json"}})}}))},R=function(){var t=document.querySelector(".header-btns__columns-btn"),e=document.querySelector(".column-settings");t.addEventListener("click",(function(){t.classList.contains("active")?(t.classList.remove("active"),e.classList.remove("active")):(t.classList.add("active"),e.classList.add("active"))}))},X=function(){document.querySelector(".main").addEventListener("mouseover",(function(t){if(t.target.closest(".user-details__section-detail .user-details__header")){t.target.closest(".user-details__section-detail").querySelector(".popup-details").classList.add("active")}else{var e=document.querySelector(".popup-details.active");e&&e.classList.remove("active")}}))};function Y(){var t=document.querySelector(".popup-new-user"),e=document.querySelector(".popup"),n=document.querySelector(".header-btns__add-btn");t.classList.remove("active"),n.classList.remove("active"),t.addEventListener("transitionend",(function(){e.classList.remove("active"),t.querySelectorAll(".popup-new-user__input-wrapper").forEach((function(t){var e=t.querySelector("input");e.value="",t.classList="popup-new-user__input-wrapper","new-user-name"===e.id?e.placeholder="Name":"new-user-email"===e.id?e.placeholder="mail@mail.com":"new-user-amount"===e.id&&(e.placeholder="$0")}))}),{once:!0})}var V=function(){document.addEventListener("click",(function(t){var e=t.target.closest(".popup-options"),n=document.querySelector(".popup-options.active"),r=document.querySelector(".user-info__btn-options.active"),a=t.target.closest(".user-info__btn-options");if(!e||a&&r){if(a&&a.classList.contains("active"))return n.classList.remove("active"),void r.classList.remove("active");n&&!e&&(n.classList.remove("active"),r.classList.remove("active"))}if(a)return s(),a.classList.contains("active")?(n.classList.remove("active"),void r.classList.remove("active")):(a.classList.add("active"),void t.target.closest(".user").querySelector(".popup-options").classList.add("active"));if(n&&e){var o=t.target.closest(".popup-options__edit"),i=t.target.closest(".popup-options__delete"),c=+t.target.closest(".user").id.replace(/[\D]/gi,"");if(o)I(c);else{if(!i)return;w(c,!0)}}}))},K=function(){var t=document.querySelector(".header__filter"),e=document.querySelector(".selection");t.addEventListener("click",(function(){t.classList.contains("active"),t.classList.toggle("active"),e.classList.toggle("active")}))},Q=function(){document.addEventListener("click",(function(t){var e=t.target.closest(".popup-selector"),n=document.querySelector(".popup-selector.active"),r=document.querySelector(".user-edit__payment-status-selector span.active"),a=t.target.closest(".user-edit__payment-status-selector span");if(!e||a&&r){if(a&&a.classList.contains("active"))return n.classList.remove("active"),void r.classList.remove("active");n&&!e&&(n.classList.remove("active"),r.classList.remove("active"))}if(a)return a.classList.contains("active")?(n.classList.remove("active"),void r.classList.remove("active")):(a.classList.add("active"),void t.target.closest(".user").querySelector(".popup-selector").classList.add("active"));if(n){var s=t.target.closest(".popup-selector label");s&&(r.textContent=s.textContent)}}))},Z=function(){document.querySelector(".main").addEventListener("click",(function(t){var e=t.target.closest(".user-info__show-more");if(e){var n=t.target.closest(".user").querySelector(".user-details");e.classList.contains("active"),e.classList.toggle("active"),n.classList.toggle("active")}}))},tt=function(){c();var n=localStorage.getItem("app-settings");window.addEventListener("load",(function(){var t=JSON.parse(localStorage.getItem("column-settings"));t&&t.free_space||_()}),{once:!0}),null!==n&&n||localStorage.setItem("app-settings",JSON.stringify({})),(n=JSON.parse(localStorage.getItem("app-settings"))).q&&(delete n.q,localStorage.setItem("app-settings",JSON.stringify(n))),t({method:"GET",url:e(),callback:function(t){var e=JSON.parse(localStorage.getItem("column-settings"));u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),n.sort_by&&v();(e.order||e.display||e.width)&&(d(),p());n.payment_status&&m();!0!==n.status&&!1!==n.status||function(){var t=o(document.querySelectorAll(".user-status-selector__input")),e=JSON.parse(localStorage.getItem("app-settings"));!0!==e.status&&!1!==e.status||(!0===e.status?t[0].checked=!0:t[1].checked=!0)}();f(t)},headers:{accept:"application/json"}})},et=function(){var n=document.getElementById("new-user-form"),r=n.querySelectorAll(".popup-new-user__input-wrapper");n.addEventListener("submit",(function(n){n.preventDefault();var a=!0,s={};r.forEach((function(t){var e=t.querySelector("input");e.value?(t.classList.remove("error-input","required-alert"),"new-user-name"===e.id?s.name=e.value:"new-user-email"===e.id?s.email=e.value:isNaN(e.value)?s.amount=e.value:s.amount=+e.value):(t.classList.add("error-input","required-alert"),a=!1),"new-user-name"===e.id?e.placeholder="Name":"new-user-email"===e.id?e.placeholder="mail@mail.com":"new-user-amount"===e.id&&(e.placeholder="$0")})),a&&t({url:"https://test-assignment.bitrx24.com/user/",method:"POST",headers:{"Content-Type":"application/json",accept:"application/json"},body:JSON.stringify(s),callback:function(n){if(n.errors)r.forEach((function(t){var e=t.querySelector("input");"new-user-name"===e.id&&n.errors.name?(e.value="",e.placeholder=n.errors.name,t.classList.add("error-input","invalid")):"new-user-email"===e.id&&n.errors.email?(e.value="",e.placeholder=n.errors.email,t.classList.add("error-input","invalid")):"new-user-amount"===e.id&&n.errors.amount&&(e.value="",e.placeholder=n.errors.amount,t.classList.add("error-input","invalid"))}));else{var a=function(t){u(t),l({setWidth:!0,setOrder:!0,setDisplay:!0}),f(t)};c(),t({url:e(),method:"GET",headers:{accept:"application/json"},callback:a}),Y()}}}),s={}}))};window.addEventListener("DOMContentLoaded",(function(){var t,e,n;tt(),K(),Z(),X(),R(),Q(),t=document.querySelector(".popup-new-user"),e=document.querySelector(".popup"),(n=document.querySelector(".header-btns__add-btn")).addEventListener("click",(function(){t.classList.contains("active")||(t.style.transition="300ms",t.classList.add("active"),e.classList.add("active"),n.classList.add("active"))})),e.addEventListener("mousedown",(function(t){var e=t.target.closest(".popup-new-user"),n=t.target.closest(".popup-new-user__close");e&&!n||Y()})),et(),J(),V(),h(),L(),M(),F(),U(),$(),j(),x()}))}();